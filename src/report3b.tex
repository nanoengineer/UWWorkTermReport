% example.tex - an example workterm report that can be used as a template for writing NE
% workterm reports

% We begin by calling the workreport class which includes all the definitions for the macros
% and environments we will be using throughout the document.
\documentclass{workreport}

% We will use some packages to add some functionality to our script.
% The lipsum package is only used to create placeholder text for this example. It can be
% deleted when your own text has been filled into the sections.
\usepackage{lipsum}
% The amsmath package provides various features to facilitate writing math formulas.
\usepackage{amsmath}


% LaTeX also supports file splitting between documents. For example, your
% introduction section could be in its own "introduction.tex" file, and you
% can import it here. This is normally done with the \input command.

% The \addbibresource command finds a BiBLaTeX file, and adds it to the
% document. BiBLatex and BiBTex are TeX extensions that automatically build
% format citations and references based on a key-value database sitting in a
% text file. In our case, this file is example.bib. We add this to the preamble
% (the part of the tex file before \begin{document}) here.
\addbibresource{./example.bib}


%%%%%%%%%%%%%%%%%%
%  IMPORTANT  INFORMATION  %
%%%%%%%%%%%%%%%%%%

% Fill in the title of your report
\title{
	Design of Bluetooth Low Energy Controlled Model Rocket
}

% Fill in your name
\author{Tong Wu}

% Fill in your student number
\studentnumber{20470965}

% Fill in your student ID
\studentid{t53wu}

% Fill in your previous academic term
\previousterm{3B}

% Fill in the name of your university
\university{University of Waterloo}

% Fill in your faculty
\faculty{Engineering}

% Fill in your program
\program{Nanotechnology Engineering}

% Fill in your program director
\programdirector{Shirley Tang}

% Fill in the address of your university
\universityaddress{
	200 University Ave. West \\
	Waterloo, ON \\
	N2L 3G1
}

% Fill in your employers name
\employername{Nordic Semiconductor ASA}

% Fill in your employers address
\employeraddress{
	Otto Nielsens veg 12, \\
	7052 Trondheim
}

% We will now begin writing the document
\begin{document}

%%%%%%%%%%%
% FRONT MATTER %
%%%%%%%%%%%

% The \begin{frontmatter} command will allow the use of the following environments:
% letter_of_submittal, contributions, summary, conclusions, recommendations, toctree
% (table of contents) and listoffiguresandtables (list of figures and list of tables).
\begin{frontmatter}

% The letter_of_submittal environment requires two inputs, the first being the greeting
% and the second being the closing.
\begin{letter_of_submittal}{Dear Dr. Tang:}{Sincerely,}

	% You're letter body.
	This work report, titled “Design of Bluetooth Low Energy Controlled Model Rocket”, was written upon the completion of my 3B work term for Nordic Semiconductor ASA. This report is to be submitted for the fulfillment of WKRPT 400. The purpose of the report is to reflect on the engineering design process behind the model rocket demo project for the Applications Group and to pass on knowledge of model rocketry to the rest of the group so that the project can be further developed and improved upon if desired.

	Nordic Semiconductor ASA is a Norwegian technology company that focuses on delivering the best ultra-low power wireless solutions and is currently a leader in the Bluetooth Low Energy market. The company's profit source is the selling of Bluetooth Low Energy chips, but it also has many teams that work on relevant hardware, software, and services which are provided to their customers or potential customers free of charge in order to help them easily integrate Nordic chips into their products and business. During my work term I worked in the Applications Group, led by Endre Rindalsholt, which is mainly responsible for creating reference designs and demo projects to showcase potential product concepts and a sample design for customers to reference their products off of.

	I hereby confirm that I have received no assistance in writing this report. I also confirm this report has not been previously submitted for academic credit at this or any other academic institution.


\end{letter_of_submittal}

% The contribution environment only requires the contributions text.
\begin{contributions}

  During my employment at the Applications Group, the team consisted of around 15 full-time employees and summer students working on embedded firmware, electrical hardware, and web applications for Bluetooth Low Energy devices. These projects were all aimed to help our customers have a easier time developing products with our chips and help them reach full volume production and go to market faster. It was a very energetic group with lots of exciting multidisciplinary hands-on projects.

	My three projects at Nordic were sensor driver development, security enhanced Eddystone beacon firmware development in partnership with Google, and finally a Bluetooth Low Energy (BLE) enabled model rocket demo project. The project that will be reported on and discussed in detail in the report is the BLE enabled model rocket. The purpose of this project was to create a proof of concept (PoC) prototype of a model rocket that is running on Nordic's latest BLE system-on-chip (SoC), nRF52832, to showcase an application of BLE in medium-range toys because future BLE specifications are going to allow for higher transmit powers thus significantly increasing the previously limited range of BLE and making it a suitable technology for medium range applications. Moreover, this project was an opportunity for me to develop my skills in printed circuit board (PCB) layout and schematic design, antenna tuning, and mechanical design which were laid out as part of my learning outcomes in the beginning of the work term. The entire process involved internet research of the current model rocketry market, the existing types of model rockets and their associated flight dynamics and equipment requirements and instruments, as well as available purchasing locations for such resources; prototyping of a reliable engine ignition mechanic and parachute deployment mechanic; circuit design and PCB layout of the entire electronic system including the communication system, telemetry system, and ignition and recovery deployment system; design and prototype the mechanical assembly through 3D modeling and 3D printing, and finally validation and tuning of flight dynamics with model rocketry simulation software. This project was mainly a solo effort with input and constructive feedback from my teammates on specific topics of their expertise such as firmware and electronics.

	The relationship between this report and my work is that the report captures all the new knowledge developed about electronic wireless model rocketry which is a brand new field of knowledge in the group. Also this report allows me to reflect on the engineering design and analysis behind several complex systems in the rocket which all manifest into very useful lessons for my future career. It also serves as a reminder that any technical knowledge, even rocket science, can be learned from the ground up in a shot span of time as long as you put your curious and analytical mind behind it!

	In the broader scheme of things, my work at Nordic Semiconductor on the BLE model rocket project has set an example that broadens the horizon on what kind of applications BLE can be at the heart of. It pushes the boundaries on what kind of devices people typically associate with BLE and have also generated significant social media interest for Nordic Semiconductor by live broadcasting the rocket launch on Facebook, thusly creating a cool and fun image for the company. My work with the rocket has also introduced many members of the team to a cloud-based 3D modeling software, OnShape, that I have picked up from my previous work term that is much more powerful and easier to use than the then status quo in the office, SketchUp. And most importantly it got many team members and their children interested in model rocketry which actually fulfills one of the main missions of the model rocketry industry, to stimulate interest in the wider public about science and engineering through this exciting hobby.

\end{contributions}

% The summary environment only requires the summary text.
\begin{summary}

	The main purpose of the report is to summarize and communicate the research and development done on the BLE model rocket project in my work term at Nordic Semiconductor ASA in Trondheim, Norway. This report will communicate the motivation and significance of the project that I had worked on and also record the engineering analysis and design that went into this work. The scope of this work includes the background research done in model rocketry, the different design options considered for the prototype, the construction requirements for launch, and several recommendations for future revisions of the rocket.

	The major points documented in this report are the entire design and prototyping phases of the model rocket and the recorded details where are important to the successful ignition, flight, and recovery of the rocket. Also, sufficient background in model rocketry and BLE electronics is provided in order to give insight to some of the related design decisions related to those fields.

	The major conclusions documented in this report are that using BLE to remotely control the launch of a model rocket is more versatile, convenient, and safe than traditional methods of a wired ignition box; that a BLE chip coupled with power amplifier can easily achieve a communication range of more than 200 meters if the antenna is properly tuned; and that real-time telemetry data from the rocket is an insightful metric into the flight performance of the rocket.

	The major recommendations of this report are that the exhaust end of the rocket should be sufficiently lifted from ground to avoid undesired ignition of adjacent engines in a multistage launch; that the parachute deployment system should be rocket-body-orientation-agnostic; and that flight data should be internally logged into the random access memory (RAM) of the BLE chip as well as communicated over the air in case the rocket travels out of range, so that the data can be read back after retrieval of the rocket.


\end{summary}

% The conclusions environment only requires the conclusions text.
\begin{conclusions}



\end{conclusions}

% The recommendations environment only requires the recommendations text.
\begin{recommendations}

        \lipsum[1-3]

\end{recommendations}

% The following command generates a table of contents (toc) that automatically keeps
% track of sections and their page numbers.
\toctree

% The following command generates a list of figures and a list of tables that
% automatically keep track of properly inserted figures and tables. The commands for
% properly inserting figures and tables will be explained in the body section of this
% document.
\listoffiguresandtables

\end{frontmatter}

% The \newglossaryentry{title} command creates an entry for the glossary. It requires a
% name and description. The title is used for making references to the glossary entry
% throughout the document. For more information on the glossary and acronyms, refer
% to the link under Glossary and Acronyms in README.md.
% These can be located anywhere in the document as long as they are declared before any \gls command references them
\newglossaryentry{LaTeX}{
	name={\LaTeX},
	description={A document preparation system used for
		high-quality typesetting. It is most often used
		for medium-to-large technical or scientific documents.
		\LaTeX is not a word processor!
	}
}

\newglossaryentry{Unix}{
	name={Unix},
	description={A multi-user multi-tasking operating system
		developed by Ken Thompson and Dennis Ritchie in the
		1970s, which has inspired many features behind Mac OSX
		and Linux
}
}

%%%%%%
% BODY  %
%%%%%%

% The \begin{body} command will create the body environment. This environment
% includes the formatting required for the body
\begin{body}

% The \section{title} command creates a section in the body of your report. You must
% specify the title of the section as the commands input. These sections headers will
% automatically be added to the table of contents.
\section{Introduction}

	The goal of the project captured in this report is to demonstrate a reference design of a BLE controlled model rocket, which can be launched, recovered, and reused, using Nordic's nRF52832 SoC in order to generate more market interest in utilizing Nordic's products and more importantly to showcase the possibility of deploying BLE in medium range applications in anticipation of the significantly increased range of the next Bluetooth Specification to be released. Despite the fact that, given the time allotted, the end result is a simply a working PoC and far from a polished design ready to be in the market, it is still a highly multidisciplinary and complex project consisting of design considerations in aerodynamics, newtonian mechanics, embedded system design, radio frequency (RF) electronics, and user experience. In addition, recommendations will be provided to fix and improve upon the current design of the rocket to make it more reliable, more performant, and more user friendly.

	In order to understand the design and engineering process behind this report however, a sufficient amount of background knowledge on model rocketry and BLE electronics is required and hence will be provided next.

\section{Background}

	The background sections introduces many important concepts in model rocketry and BLE electronics at a high level with enough details to allow the understanding and appreciation of the work reported herein.

% The \subsection{title} command creates a subsection for the above mentioned
% section. You must specify the title of the section as the commands input. These
% subsection headers will automatically be added to the table of contents, below the
% proper section.

\subsection{Model Rocketry}

	\lipsum[2]

% The \subsubsection{title} command works exactly like the \section{title} and
% \subsection{title} commands above.
\subsubsection{Model Rocketry Physics}

	\lipsum[1]

\subsubsection{Model Rocketry Simulations}

	\lipsum[1]

\subsubsection{OpenRocket}

	\lipsum[1]

	BWOOOONG!

\subsection{Bluetooth Low Energy}

	\lipsum[1]

\subsubsection{BLE Radio}

	\lipsum[1]

	BWOOOONG!

\section{Data}

	\lipsum[1-2]

% The \ref{reference} command will create a reference to any \label command.
Here's a reference to table \ref{tbl:exampletable}

% The table environment is used to create a table. Note that by calling this environment,
% this table will automatically be added to the list of tables.
\begin{table}

	% The \centering command centres the table.
	\centering

	% The tabular environment creates the table itself. For more information
	% and options when using this environment, refer to the link under Tables provided
	% in README.md.
	\begin{tabular}{|c|c|c|} \hline
		title & number & decimal \\ \hline
		heading & 1 & 1.7 \\ \hline
		another heading & 2 & 3.4 \\ \hline
	\end{tabular}
	% The \caption{title} command adds a caption to your table. This caption will then
	% be used in the list of tables.
	\caption{A table demonstrating \LaTeX \, formatting}

	% The \label{title} command creates a reference that can be used to refer to this
	% table in the document. An example of this can be found on line 174.
	\label{tbl:exampletable}

\end{table}

\section{Math}

	\lipsum[1]

\subsection{The Bloch Equations}

	% The align environment is an important environment when writing out multiple
	% mathematical equations. It is used when vertical alignment is desired. Usually
	% binary relations, such as equal signs, are aligned.
	\begin{align}
		% The following are mathematical equations written using the amsmath
		% package. For more information on writing mathematical equations in
		% LaTeX, refer to the link under AMSMath in README.md.
		\frac{d\, M_x(t)}{dt} &= \gamma(\mathbf{M}(t) \times \mathbf{B}(t))_x - \frac{M_x(t)}{T_2} \\
		\frac{d\, M_y(t)}{dt} &= \gamma(\mathbf{M}(t) \times \mathbf{B}(t))_y - \frac{M_y(t)}{T_2} \\
		\frac{d\, M_z(t)}{dt} &= \gamma(\mathbf{M}(t) \times \mathbf{B}(t))_z - \frac{M_z(t) - M_0}{T_1}
	\end{align}

\subsection{The Schrodinger Equation}

	% The equation environment is used when only one equation needs to be written.
	\begin{equation}
		i\hbar \frac{\partial \, \Psi}{\partial t} = \hat{H}\Psi
	\end{equation}

\section{Graphics}

	Here's a stock image of a computer. It comes with a CC0 license, enabling
	free distribution for commercial and personal use. It's a JPEG.

	% The figure environment allows for the insertion of a figure into a LaTeX
	% document. By creating this environment, the figure will be automatically be added
	% to the list of figures. For more information on inserting figures, refer to the link
	% under Figures in README.md.
	\begin{figure}[!ht]
		\centering
		\label{fig:stock_computer}
		\includegraphics[width=5cm]{./stock-image.jpg}
		\caption{A stock computer, I just wanted a picture here}
	\end{figure}

\section{Conclusions}

	% The \gls{title} command allows the LaTeX document to keep track of where words
	% in the glossary are used. For more information on the glossary and acronyms,
	% refer to the link under Glossary and Acronyms in README.md.
	\gls{LaTeX} is awesome.

\section{Recommendations}

	Use more \LaTeX. Also, use more \gls{Unix}. Also, citations like
    	\cite{schweiger_principles_2001} will lead to a better quality of work.

\end{body}


%%%%%%%%%%%
%  BACK MATTER  %
%%%%%%%%%%%

% The \begin{backmatter} command will create the backmatter environment. This
% environment includes the formatting required for the body, as well as the the

% backmatter environment. This environment is where the glossary, references, and appendices are inserted. You, the user, don't have to worry about inserting references or glossaries. These are built for you at compile-time from the \cite and \gls flags that you placed in your code, as well as entries in your bib files. The glossary and references are pre-pended to the appendices as separate pages at the beginning of this environment. You, however, must write your appendices in this environment.
\begin{backmatter}

% The appendix environment creates an appendix that will be properly added to
% table of contents. All figures and tables will be properly formatted to include the
% appendix letter.
\begin{appendix}{Here's An Appendix}

	\lipsum[1-2]

\end{appendix}

\begin{appendix}{Here's Another Appendix}

	\lipsum[1-2]

\end{appendix}

\begin{appendix}{A Figure in An Appendix}

	\lipsum[1-2]

	% This figure shows proper appendix formatting.
	\begin{figure}[!ht]
		\centering
		\includegraphics[width=5cm]{./stock-image.jpg}
		\caption{It's back!}
	\end{figure}

	\begin{figure}[!ht]
		\centering
		\includegraphics[width=5cm]{./stock-image.jpg}
		\caption{Testing Number}
	\end{figure}

\end{appendix}

\begin{appendix}{A Table in An Appendix}

        \lipsum[1-2]

	% This table shows proper appendix formatting.
        \begin{table}
		\centering

		\begin{tabular}{|c|c|} \hline
			\textbf{Abbreviation} & \textbf{Definition} \\ \hline
			BLE & Bluetooth Low Energy \\ \hline
			SoC & System on Chip \\ \hline
		\end{tabular}

		\caption{A Table in an Appendix, displaying the correct numbering}
        \end{table}

	\begin{table}
		\centering
		\begin{tabular}{|c|c|c|} \hline
			\textbf{Data} & \textbf{Integer} & \textbf{String} \\ \hline
			Foo & 1 & "bar" \\ \hline
		\end{tabular}
		\caption{Another table to test numbering}
	\end{table}

\end{appendix}

\end{backmatter}

\end{document}
